!function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(n){return e[n]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";function i(){const e=(e,n,t="div",i="id")=>{let o=document.createElement(t);return o.setAttribute(i,e),n&&o.setAttribute("class",n),o};let n=e("signInContainer");document.querySelector("body").appendChild(n);let t=e("companyNameContainer"),i=e("companyName");i.innerHTML="To-Do",t.appendChild(i);let o=e("welcomeContainer"),r=e("welcomeText");r.innerHTML="Welcome",o.appendChild(r);let l=e("signInButton","button"),a=e("signInButtonText");a.innerHTML="Sign In",l.appendChild(a);let u=e("emailPasswordContainer"),c=e("emailInputArea","","textarea");c.setAttribute("name","email"),c.setAttribute("placeholder","Email Address"),u.appendChild(c);let d=e("passwordInputArea","","textarea");d.setAttribute("name","password"),d.setAttribute("placeholder","Password"),u.appendChild(d);let s=e("signInWithGoogleButton","button"),m=e("signInWithGoogleText");m.innerHTML="Sign in with Google",s.appendChild(m);let p=e("signInWithDemoButton","button"),h=e("signInWithDemoText");h.innerHTML="Demo Mode",p.appendChild(h);let f=e("signUpButton","button"),g=e("signUpButtonText");g.innerHTML="Sign Up",f.appendChild(g),f.addEventListener("click",(function(){E(),n.append(t,o,S,b,s),r.innerHTML="Sign Up"}));let S=e("signUpEmailPass","button"),y=e("signUpEmailPassText");S.appendChild(y),y.innerHTML="Email + Password",S.addEventListener("click",(function(){E(),n.append(t,o,c,d,C),r.innerHTML="Enter your desired email and password"}));let b=e("signUpEmailOnly","button"),I=e("signUpEmailOnlyText");b.appendChild(I),I.innerHTML="Email Only",b.addEventListener("click",(function(){E(),n.append(t,o,c,C),r.innerHTML="Email Only Sign up"}));let C=e("submit","button"),v=e("submitText");function E(){for(;n.firstElementChild;)n.removeChild(n.firstElementChild)}return C.appendChild(v),v.innerHTML="Submit Email",{createSignInContainer:function(){n.append(t,o,u,l,s,f,p)},emailSent:function(){E(),n.append(t,o),r.innerHTML="Email sent, please check your inbox"},reconfirmEmail:function(){E(),n.append(t,o,c,C),r.innerHTML="Please re-confirm your email"},clearContainer:E,signInWithGoogleButton:s}}t.r(n);const o=firebase.auth(),r=document.querySelector("#whenSignedIn"),l=document.querySelector("#whenSignedOut"),a=document.querySelector("#signOutButton"),u=document.querySelector("#userDetails"),c=new firebase.auth.GoogleAuthProvider;i().createSignInContainer(),document.querySelector("#signInButton").onclick=()=>{let e=document.querySelector("#emailInputArea"),n=e.value,t=document.querySelector("#passwordInputArea"),i=t.value;firebase.auth().signInWithEmailAndPassword(n,i).catch((function(n){n.code,n.message;e.value="",t.value="",t.setAttribute("placeholder","The email address or password is incorrect. Please retry...")}))},document.querySelector("#signInWithGoogleButton").onclick=()=>{o.signInWithPopup(c)},a.onclick=()=>o.signOut();var d={url:"http://localhost:5000",handleCodeInApp:!0};if(document.querySelector("#signUpButton").onclick=()=>{document.querySelector("#signUpEmailOnly").onclick=()=>{let e=document.querySelector("#submit"),n=document.querySelector("#emailInputArea");e.onclick=()=>{let e=n.value;console.log(e),firebase.auth().sendSignInLinkToEmail(e,d).then((function(){console.log("email sent successfully");let n=document.querySelector("#signInContainer");for(;n.firstElementChild;)n.removeChild(n.firstElementChild);i().emailSent(),window.localStorage.setItem("emailForSignIn",e)})).catch((function(e){}))}},document.querySelector("#signUpEmailPass").onclick=()=>{document.querySelector("#submit").onclick=()=>{let e=document.querySelector("#emailInputArea"),n=e.value;console.log(n);let t=document.querySelector("#passwordInputArea"),i=t.value;console.log(i),firebase.auth().createUserWithEmailAndPassword(n,i).then((function(){console.log("it works!")})).catch((function(n){e.value="",t.value="",e.setAttribute("placeholder","Invalid email");n.code,n.message}))}}},firebase.auth().isSignInWithEmailLink(window.location.href)){var s=window.localStorage.getItem("emailForSignIn");if(!s){i().createSignInContainer();let e=document.querySelector("#signInContainer");for(;e.firstElementChild;)e.removeChild(e.firstElementChild);i().reconfirmEmail;let n=document.querySelector("#emailInputArea");document.querySelector("#submit").onclick=()=>{s=n.value}}firebase.auth().signInWithEmailLink(s,window.location.href).then((function(e){window.localStorage.removeItem("emailForSignIn")})).catch((function(e){}))}o.onAuthStateChanged(e=>{e?(r.hidden=!1,l.hidden=!0,u.innerHTML="Hi, "+e.displayName):(r.hidden=!0,l.hidden=!1,u.innerHTML="Hello")});firebase.firestore()}]);